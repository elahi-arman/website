<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Enhancing Link Previews- COEN 161</title>

    <meta property="og:title" content="Enhancing Link Previews" />
    <meta property="og:type" content="article" />
    <meta
      property="og:description"
      content="Learn to make your shared
        webpages standout using OpenGraph."
    />
    <meta
      property="og:image"
      content="https://aelahi.dev/coen-161/html/images/mailbox.jpg"
    />
    <meta property="og:image:alt" content="A bright blue mailbox" />
    <meta
      property="og:url"
      content="https://aelahi.dev/coen-161/html/open-graph.html"
    />
    <meta
      property="og:site_name"
      content="Arman's Asinine and Untrustworthy Thoughts"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@therawrman" />

    <link
      href="https://fonts.googleapis.com/css2?family=Dosis&family=Zen+Kurenaido&family=Fira+Mono&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/vendor/prism/prism.css" />
    <link rel="stylesheet" href="/styles/reset.css" />
    <link rel="stylesheet" href="/styles/base.css" />
    <link rel="stylesheet" href="/styles/prism-override.css" />

    <script defer src="/vendor/prism/prism.js" data-manual></script>
    <script defer src="/scripts/highlight.js"></script>

    <style>
      .bad-link-preview {
        width: min-content;
        border-radius: 3rem;
        background-color: #eee;
        padding: 0.5rem 1rem;
      }

      .centered-image {
        width: 320px;
        margin-left: auto;
        margin-right: auto;
      }
    </style>
  </head>

  <body class="language-html">
    <main id="top">
      <h1>Rich Object Link Previews</h1>
      <section class="flex-left-content">
        <nav>
          <h2>On this page</h2>
          <ul id="toc">
            <li>
              <a href="#beautify-link-preview"
                >How do I make that link preview beautiful?</a
              >
            </li>
            <li><a href="#dangers">Should I always use a link preview?</a></li>
            <li><a href="#whats-next">What Next?</a></li>
            <li><a href="#further-reading">Further Reading</a></li>
          </ul>
        </nav>
        <div>
          <p>
            Have you shared a Spotify link and seen a play button? Or maybe an
            article that has a beautiful preview image? To get that preview for
            your website, it takes only a handful of lines of code.
            <img
              class="centered-image"
              src="./images/open-graph-article-example.png"
              alt="Article prevew for A Short History of Bi-directional links."
            />
          </p>
          <p>
            This is what the preview might look like for an article. This
            example is from
            <a href="https://maggieappleton.com/bidirectionals" target="_blank"
              >Maggie Appleton's website</a
            >
            where she writes about her work making beautiful digital
            illustrations.
          </p>
        </div>
      </section>

      <h1 id="beautify-link-preview">How does it work</h1>
      <p>
        When GUIs like iMessage or Twitter or even Facebook encounter webpages,
        they download the page in the background. If the webpage includes
        certain HTML tags, the applications will parse those to show a richer
        preview of a link.
      </p>
      <p>
        Facebook created the
        <a href="https://opengraphprotocol.org/" target="_blank">
          Open Graph Protocol
        </a>
        to turn a webpage into a
        <quote> &quot;rich object in a social graph&quot; </quote>. By inserting
        <code>&lt;meta&gt;</code> tags in the <code>&lt;head&gt;</code> of a
        document, you can annotate your webpage.
      </p>
      <p>
        To get the richer link previews, add 4 tags to your HTML. The first
        field,
        <code>property</code> specifies what kind of annotaton we'll be using.
        In this example, it's <code>og</code> for OpenGraph and then the element
        the tag will describe. The <code>content</code> field is the value for
        that respective property.
      </p>
      <pre>
          <!-- Source = https://opengraphprotocol.org/ -->
          <code>
          
          &lt;!-- Title = The title of the Webpage-->
          &lt;meta property="og:title" content="The Rock" /&gt;
          &lt;!-- 
            Type = The type of content being displayed. There's only certain
            values that can be shown here
          --a&gt;
          &lt;meta property="og:type" content="video.movie" /&gt;
          &lt;!-- URL = The url thsi content can be found at (without any redirects)--&gt;
          &lt;meta property="og:url" content="https://www.imdb.com/title/tt0117500/" /&gt;
          &lt;!-- 
            Image = An accompanying image which complements the webpage. Maybe something
            like a movie poster or a random stock image or a meme.
          --&gt;
          &lt;meta property="og:image" content="https://ia.media-imdb.com/images/rock.jpg" /&gt;
          </code>
      </pre>
      <p>
        There isn't too much left to talk about for link previews of articles.
        Twitter had a competing implementation of a similar graph concept, where
        properties were prefixed with <code>twitter</code> instead of
        <code>og</code>. Only one of the Twititer meta tags is still useful
        since other major tech companies adopted the OpenGraph protocol.
      </p>
      <p>
        To get your links to show up properly on Twitter, you need one more tag:
      </p>
      <pre>
          <code>
          &lt;meta name="twitter:card" content="summary_large_image" /&gt;
          </code>
        </pre>
      <p>
        One slight but different is that Twitter users the
        <code>name</code> property but OpenGraph uses the
        <code>property</code> property.
      </p>

      <p>
        I like the way Twitter allows users to explicitly specify the way the
        link should display. But personally, I don't thiink it stood a chance.
        If developers add Twitter specific tags, will every Social Media
        platform requirei their own set of tags? That would suck, we'd have to
        continually update pages to take into account every random media
        platform.
      </p>

      <h1 id="even-richer-experiences">Even richer experiences</h1>
      <p>
        The OpenGraph protocol doesn't have too much else defined within it.
        Just like HTML is meant to go beyond pure text, OpenGraph can support
        complementary audio and video. It's a
        <a
          href="https://developers.facebook.com/docs/sharing/webmasters/#video"
          target="_blank"
        >
          bit finnicky</a
        >
        since we don't know exactly what makes Facebook tick, but other
        platforms may consume the OpenGraph properly.
      </p>
      <p>
        <img
          class="centered-image"
          src="./images/open-graph-audio-example.png"
          alt="Cautious Clay's face with the title of the track Wildfire, his name, and a play button."
        />
        When you share Spotify links in iMessage, they show up with a play
        button. Cool enough, but hitting the play button plays a preview of the
        track. To make the audio available for all users, but only the whole
        song available for Spotfify subscribers, the link preview only has a
        snippet of a song. It's important for websites which
      </p>

      <h1 id="dangers">Anything to be wary of?</h1>
      <p>
        Like all things in Computer Science, it depends. Although we don't know
        the specifics of how each proprietary link previewer works, there could
        be bugs in the code that generates a link preview. What if the preview
        downloads an entire webpage and that webpage is 50GB? That's a lot of
        data, especially if you have limited or pay-as-you-go bandwidth.
      </p>
      <p>
        I'd hope that no link previewers execute JavaScript that's included in a
        page. The OpenGraph specification is pretty strict on which tags are
        meaningful, but malicious people will find a way.
      </p>
      <h1 id="whats-next">What's next?</h1>
      <p>
        This is just one of the powers of HTML. None of this was included in the
        initial specification of HTML. Because HTML has a minimal amount of
        simplicity that can be built on top of, we get cool integrations like
        this.
      </p>
      <p>
        If this sort of stuff excites you, I'd look into Microdata (a play on
        metadata) which Google uses to build out its Search Results. The more
        you annotate your documents, the more computers can create a richer,
        linked web.
      </p>
      <ul style="margin-bottom: 2rem">
        <li>
          <a href="https://schema.org/docs/gs.html" target="_blank"
            >Schema.org Microdata for use in search engines</a
          >
        </li>
        <li>
          <a
            href="https://www.w3.org/2010/02/rdfa/sources/rdfa-lite/"
            target="_blank"
          >
            RDFa specification - How browsers interpret schema.org
          </a>
        </li>
      </ul>
      <h1 id="sources">Sources</h1>
      <p>
        If you want to see where I got this information from, here's what I
        consulted.
      </p>
      <ul>
        <li>
          <a
            href="https://www.freecodecamp.org/news/how-to-avoid-the-shaming-look-your-site-has-on-twitter-and-facebook-f2e8f4be568d"
            target="_blank"
            >Another article that goes over these tags.
          </a>
          <a href="https://opengraphprotocol.org/" target="_blank">
            Open Graph Protocol
          </a>
          <a
            href="https://developer.apple.com/library/archive/technotes/tn2444/_index.html"
            target="_blank"
          >
            Best Practices for Link Previews in iMessage
          </a>
          <a
            href="https://developer.twitter.com/en/docs/twitter-for-websites/cards/guides/getting-started"
            target="_blank"
          >
            Showing Cards on Twitter
          </a>
        </li>
      </ul>
    </main>
  </body>
</html>
